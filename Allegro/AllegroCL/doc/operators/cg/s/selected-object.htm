<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>selected-object</title><link rel="stylesheet" href="../../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Generic Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/cg/s/selected-object.htm">8.1 version</a></td></tr></table><h2 id="2">selected-object</h2>

<p id="3"><b>Arguments: </b><i>
window
</i></p>

<p id="4">
Returns an object or a list of objects that are considered to be
selected in window and which may be acted upon by arbitrary (typically
menu) commands. In the development environment, menu commands
typically act upon the selected-object of the window that currently
has the keyboard focus. Methods can be added on this generic function
to return appropriate objects for specialized classes of windows,
though the default behavior will often suffice. If no object is
selected, this function returns <code>nil</code>.
</p>
<p id="5">
If text is selected, that text is returned as a string. If other
objects are selected (controls on a form, for example), a list of
selected objects is returned.
</p>
<p id="6">
Note: this function will return true both when an
object is selected and highlighted (e.g. text which is highlighted
after the left mouse button is depressed and dragged over the text)
and when the cursor is within text but no text is highlighted. Thus,
if the cursor is between the f and the first o of foo, foo will be
returned by selected-object even though no text is highlighted. While
some menu commands work on objects selected by the second definition
(cursor in the text but no text highlighted), others, Cut for example,
do not work in that case. The function <a href="../g/get-selection.htm"><b>get-selection</b></a> returns
two integers indicating the beginning and the end of highlighted
text. If the two values returned by that function are equal, no text
is highlighted and commands that only work on highlighted text should
not be invoked.
</p>
<p id="7">
Programmers may wish to make menu-items that only work on highlighted
text unavailable if no text is highlighted when the menu is shown. The
generic function <a href="../a/about-to-show-menu.htm"><b>about-to-show-menu</b></a> is called just
prior to a menu being displayed and is designed to allow menu-items to
be made available or unavailable based on the current
state. Programmers can subclass <a href="../../../classes/cg/menu.htm"><code>menu</code></a> and write methods on <a href="../a/about-to-show-menu.htm"><b>about-to-show-menu</b></a> to
achieve the desired behavior, such as making Copy unavailable if
selected-object returns <code>nil</code> and Cut
unavailable when selected-object returns true but
<a href="../g/get-selection.htm"><b>get-selection</b></a>
indicates there is no highlighted text.
</p>





<hr><p id="8"><small>Copyright (c) 1998-2010, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br><small>Documentation for Allegro CL version 8.2. This page was not revised from the 8.1 page.</small><br>
<small>Created 2010.1.21.</small>
<br></p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/cg/s/selected-object.htm">8.1 version</a></td></tr></table></body></html>