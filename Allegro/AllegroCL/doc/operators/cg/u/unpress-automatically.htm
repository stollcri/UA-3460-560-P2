<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>unpress-automatically</title><link rel="stylesheet" href="../../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Generic Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/cg/u/unpress-automatically.htm">8.1 version</a></td></tr></table><h2 id="2">unpress-automatically</h2>

<p id="3"><b>Arguments: </b><i>
picture-button-or-multi-picture-button
</i></p>

<p id="4">
Returns whether a <a href="../../../classes/cg/picture-button.htm"><code>picture-button</code></a> will automatically unpress itself
just after the user has pressed it interactively, or whether a <a href="../../../classes/cg/multi-picture-button.htm"><code>multi-picture-button</code></a> will
automatically unpress any of its buttons just after that button is
pressed interactively.  The default value is <code>nil</code>, which means that a pressed button will stay
pressed until the user unpresses it explicitly (or presses another
button within a multi-picture-button when its
<a href="../m/multiple-selections.htm"><b>multiple-selections</b></a> property is
<code>nil</code>).  The <a href="../../../../ansicl/dictentr/setfpset.htm"><b>setf</b></a> of this function may be called to
set the value of this property, or it may be specified when creating
the widget by passing the <i>unpress-automatically</i>
initarg to <a href="../../../../ansicl/dictentr/make-ins.htm"><b>make-instance</b></a>.
</p>
<p id="5">
If the value of this property is true, then when the user presses a
button interactively, the button will be unpressed automatically just
after the widget's <a href="../o/on-change.htm"><b>on-change</b></a> function (if
any) has run.  The unpressing of the button is therefore a visual
indication of when the button has completed its action.  The button is
unpressed internally by calling <a href="../i/initialize-value.htm"><b>initialize-value</b></a>, and so the
<a href="../o/on-change.htm"><b>on-change</b></a>
function will not be called again as a result of the unpressing.
</p>
<p id="6">
This property affects only interactive button-pressing, and does not
affect pressing buttons programmatically by calling <a href="../v/value.htm"><b>(setf value)</b></a>.  A
button may be pressed interactively either by clicking it or by
pressing the spacebar when the button has the keyboard focus (for a
<a href="../../../classes/cg/multi-picture-button.htm"><code>multi-picture-button</code></a>, the
latter requires the <a href="../d/draw-focus.htm"><b>draw-focus</b></a> property to be true).
</p>
<p id="7">
Setting this property to true is essentially equivalent to returning
<code>(not new-value)</code> from the <a href="../o/on-change.htm"><b>on-change</b></a> function, which would
return <code>nil</code> to reject the new value when a
button is pressed down, but return true when all buttons are
unpressed.  We had suggested that return value in earlier releases,
but that technique was rather obscure.
</p>
<p id="8">
For a <a href="../../../classes/cg/multi-picture-button.htm"><code>multi-picture-button</code></a>,
setting this property to true when the <a href="../m/multiple-selections.htm"><b>multiple-selections</b></a> property is
also true is probably not useful, since there would be no way for the
user to press multiple buttons down interactively (though that would
still be possible by calling <a href="../v/value.htm"><b>(setf value)</b></a>.)
</p>

<h4 id="9">Example</h4>

<pre id="10">
;;  In the following example, my-multi-picture-button 
;;  is assumed to be the widget object (rather than, 
;;  say, the widget name). To test this, you could 
;;  use the Tools | Get Component command, then click on a 
;;  multi-picture-button to return it, and then evaluate:
;;    (setf my-multi-picture-button *)

(setf (unpress-automatically my-multi-picture-button) t)
</pre>

<hr><p id="11"><small>Copyright (c) 1998-2010, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br><small>Documentation for Allegro CL version 8.2. This page was not revised from the 8.1 page.</small><br>
<small>Created 2010.1.21.</small>
<br></p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/cg/u/unpress-automatically.htm">8.1 version</a></td></tr></table></body></html>