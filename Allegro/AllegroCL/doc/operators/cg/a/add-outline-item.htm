<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>add-outline-item</title><link rel="stylesheet" href="../../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Generic Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: cg</b></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/cg/a/add-outline-item.htm">8.1 version</a></td></tr></table><h2 id="2">add-outline-item</h2>

<p id="3"><b>Arguments: </b><i>
outline new-item parent-item-or-value 
</i>&amp;key <i>no-redisplay position no-error-p</i><i>
</i></p>

<p id="4">
Adds the outline-item <i>new-item</i> to
<i>outline</i> either as a top-level item or as a
subitem of the item whose value is
<i>parent-item-or-value</i>, at
<i>position</i> among its
siblings. <i>new-item</i> must be an instance of the
<a href="../../../classes/cg/outline-item.htm"><code>outline-item</code></a>
class.  <i>outline</i> must be an instance of the
<a href="../../../classes/cg/outline.htm"><code>outline</code></a> class.
</p>
<p id="5">
<i>parent-item-or-value</i> may be either the parent
<a href="../../../classes/cg/outline-item.htm"><code>outline-item</code></a>
under which to add the new item, or the parent item's <a href="../v/value.htm"><b>value</b></a>, or else <code>nil</code> to add the new item as a top-level item.
Specifying the parent item by its value is typically convenient, but
is less efficient since the item must first be looked up from its
value.  And if multiple items have this same value, then the wrong
parent may be found unless the actual parent outline-item is
specified. (If <i>parent-item-or-value</i> is
non-<code>nil</code> and no outline-item can be found in
<i>outline</i> that matches the specified value, then an
error is signaled if <i>no-error-p</i> is <code>nil</code>, and nothing is done if
<i>no-error-p</i> is true.)
</p>
<p id="6">
This function searches only through the currently visible
outline-items for <i>parent-item-or-value</i>.  If
<i>parent-item-or-value</i> specifies an item that is
currently hidden (due to an ancestor item being closed), then an error
is signaled unless <i>no-error-p</i> is true.  As an
alternative, <a href="../r/range.htm"><b>(setf range)</b></a> works regardless of whether the
parent item is currently visible.
</p>
<p id="7">
The value of
<i>position</i> should be a non-negative integer,
<code>:end</code> or <code>nil</code>. 0 means above
all siblings. <code>:end</code> means below all
siblings. <code>nil</code> means position according to the
<a href="../o/on-sort-predicate.htm"><b>on-sort-predicate</b></a>
(if on-sort-predicate is <code>nil</code> or the function
true (which always returns true) <i>new-item</i> is
positioned at the top among its siblings.)
</p>
<p id="8">
If <i>no-redisplay</i> is true, the outline will not be
redisplayed by this function to reflect the change. You may wish to
delay redisplay when there is more than one modification until all
modifications are made.
</p>
<p id="9">
If <i>no-error-p</i> is true, no error will be signaled
if the requested action cannot be performed for any reason. Instead,
nothing will be done. (Specifying this argument true does not protect
against malformed calls to this function, such as specifying a value
for <i>new-item</i> which is not an instance of <a href="../../../classes/cg/outline-item.htm"><code>outline-item</code></a>.)
</p>
<p id="10">
To change the whole set of child outline-items of a parent
outline-item (or all of the top-level items of an outline control), an
alternative is to call <a href="../r/range.htm"><b>(setf range)</b></a> on the parent outline-item or the
outline control, passing a list of outline-items as the new value.
</p>
<p id="11">
If no item was successfully added, then <code>nil</code>
is returned. Otherwise two values are returned: (1) the <a href="../../../classes/cg/outline-item.htm"><code>outline-item</code></a> that was
added, and (2) the index of the new item within all currently visible
items.  (The index will be <code>nil</code> if the new
item is not visible because the parent item is closed.)
</p>


<hr><p id="12"><small>Copyright (c) 1998-2010, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br><small>Documentation for Allegro CL version 8.2. This page was not revised from the 8.1 page.</small><br>
<small>Created 2010.1.21.</small>
<br></p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/cg/a/add-outline-item.htm">8.1 version</a></td></tr></table></body></html>