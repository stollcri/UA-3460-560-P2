<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>jlinker-buffer-size</title><link rel="stylesheet" href="../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: javatools.jlinker</b></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/jlinker/jlinker-buffer-size.htm">8.1 version</a></td></tr></table><h2 id="2">jlinker-buffer-size</h2>

<p id="3"><b>Arguments: </b><i>
</i> &amp;optional <i>size</i><i>
</i></p>

<p id="4">
This function is used to query or to set the buffer size used to
transmit data from Lisp to Java.
</p>
<p id="5">
If the <i>size</i> argument is omitted or is any value other
than an
integer, then the two values returned are <a href="../../../ansicl/dictentr/eql.htm"><b>eql</b></a> to the current buffer size in use (and to
each other). If the <i>size</i> argument is an integer
then the two values returned are the new buffer size and the previous
buffer size. The new buffer size is always adjusted to be no less
than 128 and to be even.
</p>

<p id="6">
The default buffer size of 512 is normally adequate and sufficient.
Changing the value of the buffer size affects the current Lisp/Java
connection and all subsequent connections.  A new value takes effect
as soon as any active transfer ends.
</p>

<h3 id="7">Setting on Windows</h3>

<p id="8">
Under some circumstances in Windows 2000, the default size of 512
bytes seems to introduce unexplained delays. The effect is most
clearly visible when transmitting a very long (more than 100,000 byte)
string from Lisp to Java. With some buffer sizes, the operation takes
a long time and the Windows Task Manager reports low cpu utilization
during the transfer. With other buffer sizes, the Task Manager
reports almost 100% cpu utilization and the transfer is
correspondingly much faster. If transmitting large blocks of data
from Lisp to Java is a significant component of an application, it may
be worthwhile to experiment with the buffer size to optimize the rate
of transfer.
</p>

<p id="9">
If transfer delays seem to be occurring, reducing the buffer size
often eliminates the delays, even though this strategy is at odds with
the greater efficiency of larger buffer for large data transfers.
</p>

<p id="10">
See <a href="../../jlinker.htm">jlinker.htm</a> for more information on the
jLinker facility.
</p>

<hr><p id="11"><small>Copyright (c) 1998-2010, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br><small>Documentation for Allegro CL version 8.2. This page was not revised from the 8.1 page.</small><br>
<small>Created 2010.1.21.</small>
<br></p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/jlinker/jlinker-buffer-size.htm">8.1 version</a></td></tr></table></body></html>