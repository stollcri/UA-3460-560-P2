<html><head><meta http-equiv="content-type" name="description" content="text/html; charset=UTF-8"> <title>copy-file</title><link rel="stylesheet" href="../../acldoc-styles.css" type="text/css"></head><body><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"><b>Function</b></td><td align="left" bgcolor="#00FFFF"><b>Package: system</b></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/system/copy-file.htm">8.1 version</a></td></tr></table><h2 id="2">copy-file</h2>

<p id="3"><b>Arguments: </b><i>from to
</i>&amp;key <i>link overwrite preserve-symbolic-links preserve-time remove-destination force verbose</i></p>

<p id="4">
The <code>:osi</code> module (see <a href="../../os-interface.htm#osi-functionality-1">Operating System
Interface Functionality</a> in
<a href="../../os-interface.htm">os-interface.htm</a>) has additional functionality
relating to file handling. See particularly <a href="../../os-interface.htm#osi-file-handling-2">OSI file handling
functionality</a> in that document.  The symbol
<code>sys:copy-file</code> is exported from the new
<code>excl.osi</code> package (as well as from the
<code>system</code> package).
</p>

<p id="5">
Copies <i>from</i> to
<i>to</i>. If <i>overwrite</i> is
non-<code>nil</code>, <i>to</i>
will be overwritten if it exists. 
</p>
<p id="6">
If <i>remove-destination</i> is specified true,
<i>to</i> is removed (if it exists) before the
copy is attempted. (You might want to specify this if you have write
permission for the directory but not for the file.)  If
<i>force</i> is specified true, if an error occurs
opening <i>to</i> for overwriting,
<i>to</i> is removed and the operation is
retried. <code>:force true</code> essentially means overwrite if
you can, remove if you must (when <i>to</i>
exists). <i>force</i> and <i>overwrite</i>
are effectively ignored when <i>remove-destination</i>
is specified true.
</p>
<p id="7">
It is an error to specify an existing file as the value of
<i>to</i> unless at least one of the
<i>overwrite</i>,
<i>remove-destination</i>, or <i>force</i>
keyword arguments is specified true.
</p>
<p id="8">
The <i>link</i> argument only has meaning on UNIX
platforms (symbolic and hard links are not supported on Windows) so
it is ignored on Windows. On UNIX, it can have the following values:
</p>

<ul>
<li id="9">
<code>t</code>: if <i>link</i> is <code>t</code>, then perform the copy by creating a hard link if
the source and destination are on the same filesystem and by creating
a symbolic link if they are on different filesystems.
</li>
<li id="10">
<code>:hard</code>: if <i>link</i> is
<code>:hard</code>, then perform the copy by creating a hard
link. 
</li>
<li id="11">
<code>nil</code> (the default): if
<i>link</i> is <code>nil</code>, then just
copy the file.
</li>
</ul>

<p id="12">
In earlier releases, the <i>link</i> argument was called
<i>link-ok</i>. <i>link-ok</i> is still
accepted and its value is made the value of <i>link</i>
(it is an error to supply values for both <i>link</i>
and <i>link-ok</i>). Use of <i>link-ok</i>
is deprecated.
</p>

<p id="13">
If <i>preserve-symbolic-links</i> is
true, copy a symbolic link by making a symbolic
link, otherwise copy normally--<i>link</i> is ignored if
<i>from</i> is a symbolic link. Because
symbolic links are not supported on Windows, this argument has meaning
on UNIX only. <i>preserve-symbolic-links</i> defaults
to <code>nil</code>.
</p>


<p id="14">
If <i>preserve-time</i> is true,
then the time on <i>to</i> is set to be the
same as
<i>from</i>. <i>preserve-time</i>
defaults to <code>t</code>.
</p>

<p id="15">
Either of both <i>from</i> and
<i>to</i> can be streams (in which case
irrelevant keyword arguments are ignored). This allows for copying
bytes from one stream to another or a stream to or from a file.
</p>
<p id="16">
If the <i>verbose</i> argument is specified true,
infomation will be printed about the copying operation.
</p>

<p id="17">
In earlier releases, <a href="copy-file.htm"><b>copy-file</b></a> accepted an
<i>element-type</i> keyword argument to specify the
element type of the streams opened to the file to be copied and the
new file. That argument was not in fact useful and has been
removed. A warning is signaled if it is specified.
</p>

<p id="18">
See <a href="../../os-interface.htm#environment-functions-1">Filesystem manipulation functions</a> in
<a href="../../os-interface.htm">os-interface.htm</a> for information on file and
directory information and manipulation functions in Allegro CL.
</p>


<hr><p id="19"><small>Copyright (c) 1998-2010, Franz Inc. Oakland, CA., USA. All rights reserved.</small><br><small>Documentation for Allegro CL version 8.2. This page was not revised from the 8.1 page.</small><br>
<small>Created 2010.1.21.</small>
<br></p><table border="0" width="100%" cellpadding="1" cellspacing="0"><tr><td colspan="2" bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3"><tr><td align="left" bgcolor="#00FFFF"></td><td align="left" bgcolor="#00FFFF"></td><td align="center" bgcolor="#00FFFF"><a href="../../contents.htm"><b>ToC</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../introduction.htm"><b>DocOverview</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../cgide.htm"><b>CGDoc</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../release-notes.htm"><b>RelNotes</b></a></td><td align="center" bgcolor="#00FFFF"><a href="http://www.franz.com/support/faqs/"><b>FAQ</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../index.htm"><b>Index</b></a></td><td align="center" bgcolor="#00FFFF"><a href="../../permuted-index.htm"><b>PermutedIndex</b></a></td></tr></table></td><td align="right"><b>Allegro CL version 8.2</b><br><small><a href="../../introduction.htm#updates-s">Unrevised from 8.1 to 8.2.</a></small><br><a href="http://www.franz.com/support/documentation/8.1/doc/operators/system/copy-file.htm">8.1 version</a></td></tr></table></body></html>