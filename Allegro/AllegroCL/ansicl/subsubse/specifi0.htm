<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<HTML>
<HEAD>

<!-- 
  Document                : specifi0.htm
  representing node       : Specifiers for keyword parameters  [ID:NO-247]
                 of class : SubSubSection  [ID:SC-5]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:55:24 23.07.98

  About SchemaText        : http://www.schema.de
-->

<META NAME="GENERATOR" CONTENT="SchemaText 1.40f">
<META NAME="AUTHOR" CONTENT="Franz Inc.">
<META NAME="DATE" CONTENT="23.07.98">
<META NAME="TIME" CONTENT="09:51:09">
<META NAME="VERSION" CONTENT="520">

<TITLE>Specifiers for keyword parameters</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>

<A NAME="SubSubSectio_Specifiers_f_247"></A>
<FONT FACE="ARIAL,GENEVA,HELVETICA">
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="aspecifi.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../subsecti/ordinary.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="../subsubsu/suppress.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>
<TABLE WIDTH="90%"><TR>
<TD WIDTH=5%>&nbsp;</TD>
<TD WIDTH=95%>
<FONT SIZE=-2>
<A HREF="../ansicl.htm"> ANSI Common Lisp</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../chapter/evaluati.htm">3 Evaluation and Compilation</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../section/lambdali.htm">3.4 Lambda Lists</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../subsecti/ordinary.htm">3.4.1 Ordinary Lambda Lists</A>

</FONT>
<H3 ID="2">3.4.1.4   Specifiers for keyword parameters</H3>






If <A HREF="#SubSubSectio_Specifiers_f_247"><B>&amp;key</B></A> 
is present, all specifiers up to the next <I><A HREF="../glossary/l.htm#lambdalistkeyword">lambda list keyword</A></I>
or the end of the <I><A HREF="../glossary/l.htm#list">list</A></I> are keyword parameter specifiers.
When keyword parameters are processed,
the same arguments are processed that
would be made into a <I><A HREF="../glossary/l.htm#list">list</A></I> for a <I><A HREF="../glossary/r.htm#restparameter">rest parameter</A></I>.
It is permitted to specify both <A HREF="aspecifi.htm"><B>&amp;rest</B></A> and <A HREF="#SubSubSectio_Specifiers_f_247"><B>&amp;key</B></A>.
In this case the remaining arguments are used for both purposes;
that is, all remaining arguments are made into a <I><A HREF="../glossary/l.htm#list">list</A></I> for the
<I><A HREF="../glossary/r.htm#restparameter">rest parameter</A></I>, and are also processed for the <A HREF="#SubSubSectio_Specifiers_f_247"><B>&amp;key</B></A> parameters.

If <A HREF="#SubSubSectio_Specifiers_f_247"><B>&amp;key</B></A> is specified, there must remain
an even number of arguments; see Section <A HREF="oddnumbe.htm">3.5.1.6 Odd Number of Keyword Arguments</A>.

These arguments are considered as pairs,
the first argument in each pair being interpreted as a name
and the second as the corresponding value.
The first <I><A HREF="../glossary/o.htm#object">object</A></I> of each pair must be a <I><A HREF="../glossary/s.htm#symbol">symbol</A></I>;
see Section <A HREF="invalidk.htm">3.5.1.5 Invalid Keyword Arguments</A>.
The keyword parameter specifiers may optionally be followed by the
<I><A HREF="../glossary/l.htm#lambdalistkeyword">lambda list keyword</A></I> <A HREF="../subsubsu/suppress.htm"><B>&amp;allow-other-keys</B></A>.

<P ID="3">

In each keyword parameter specifier must be a name <I>var</I> for
the parameter variable.

If the <I>var</I> appears alone or in a <TT>(<I>var</I> <I>init-form</I>)</TT>
combination, the keyword name used when matching <I><A HREF="../glossary/a.htm#argument">arguments</A></I> to <I><A HREF="../glossary/p.htm#parameter">parameters</A></I>
is a <I><A HREF="../glossary/s.htm#symbol">symbol</A></I> in the <A HREF="../dictentr/keyword.htm"><TT>keyword</TT></A> <I><A HREF="../glossary/p.htm#package">package</A></I> whose <I><A HREF="../glossary/n.htm#name">name</A></I> is the
<I><A HREF="../glossary/s.htm#same">same</A></I> (under <A HREF="../dictentr/stringst.htm"><B>string=</B></A>) as <I>var</I>'s.
If the notation <TT>((<I>keyword-name</I> <I>var</I>) <I>init-form</I>)</TT> is used,
then the keyword name used to match <I><A HREF="../glossary/a.htm#argument">arguments</A></I> to <I><A HREF="../glossary/p.htm#parameter">parameters</A></I> is
<I>keyword-name</I>, which may be a <I><A HREF="../glossary/s.htm#symbol">symbol</A></I> in any <I><A HREF="../glossary/p.htm#package">package</A></I>.
(Of course, if it is not a <I><A HREF="../glossary/s.htm#symbol">symbol</A></I> in the <A HREF="../dictentr/keyword.htm"><TT>keyword</TT></A> <I><A HREF="../glossary/p.htm#package">package</A></I>,
it does not necessarily self-evaluate, so care must be taken when calling the function
to make sure that normal evaluation still yields the keyword name.)

Thus

<B></B><P ID="4">
<PRE ID="5">
 (defun foo (&key radix (type 'integer)) ...)
</PRE>
means exactly the same as

<P ID="6">
<PRE ID="7">
 (defun foo (&key ((:radix radix)) ((:type type) 'integer)) ...)
</PRE>

<P ID="8">
The keyword parameter specifiers are, like all parameter specifiers,
effectively processed from left to right.  For each keyword parameter
specifier, if there is an argument pair whose name matches that
specifier's name (that is, the names are <A HREF="../dictentr/eq.htm"><B>eq</B></A>), then the
parameter variable for that specifier is bound to the second item (the
value) of that argument pair.  If more than one such argument pair
matches, the leftmost argument pair is used.  If no such argument pair
exists, then the <I>init-form</I> for that specifier is evaluated and
the parameter variable is bound to that value (or to <A HREF="../dictentr/nil.htm"><B>nil</B></A>&nbsp;if no
<I>init-form</I> was specified).  <I>supplied-p-parameter</I> is
treated as for <A HREF="specifi1.htm"><B>&amp;optional</B></A> parameters: it is bound to <I><A HREF="../glossary/t.htm#true">true</A></I> if there
was a matching argument pair, and to <I><A HREF="../glossary/f.htm#false">false</A></I> otherwise.

<P ID="9">

Unless keyword argument checking is suppressed,
an argument pair must a name matched by a parameter specifier;
see Section <A HREF="unrecogn.htm">3.5.1.4 Unrecognized Keyword Arguments</A>.

<P ID="10">
If keyword argument checking is suppressed, 
then it is permitted for an argument pair
to match no parameter specifier, and the argument pair is ignored, but
such an argument pair is accessible through the <I><A HREF="../glossary/r.htm#restparameter">rest parameter</A></I> if
one was supplied.  The purpose of these mechanisms is to allow sharing
of argument lists among several <I><A HREF="../glossary/l.htm#lambdaexpression">lambda expressions</A></I> and to
allow either the caller or the called <I><A HREF="../glossary/l.htm#lambdaexpression">lambda expression</A></I> to
specify that such sharing may be taking place.

<P ID="11">

Note that if <A HREF="#SubSubSectio_Specifiers_f_247"><B>&amp;key</B></A> is present, a keyword argument of <TT>:allow-other-keys</TT>
is always permitted - regardless of whether the associated value is <I><A HREF="../glossary/t.htm#true">true</A></I>
or <I><A HREF="../glossary/f.htm#false">false</A></I>.  However, if the value is <I><A HREF="../glossary/f.htm#false">false</A></I>, other non-matching
keywords are not tolerated (unless <A HREF="../subsubsu/suppress.htm"><B>&amp;allow-other-keys</B></A> was used).

<P ID="12">
Furthermore, if the receiving argument list specifies a regular argument which
would be flagged by <TT>:allow-other-keys</TT>, then <TT>:allow-other-keys</TT> has both
its special-cased meaning (identifying whether additional keywords are permitted)
and its normal meaning (data flow into the function in question).


<P ID="13"><NOBR>3.4.1.4.1&nbsp;&nbsp;<A HREF="../subsubsu/suppress.htm" TARGET="_self">Suppressing Keyword Argument Checking</A><NOBR>
</TD></TR></TABLE>
<HR NOSHADE>
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="aspecifi.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../subsecti/ordinary.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="../subsubsu/suppress.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>

<SMALL><I><B>&#169; Franz Inc. 1998-2009</b> - File last updated 7-21-2009</I></SMALL>
</FONT>

</BODY>
</HTML>
