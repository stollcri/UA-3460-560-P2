<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<HTML>
<HEAD>

<!-- 
  Document                : standard.htm
  representing node       : Standard Method Combination  [ID:NO-552]
                 of class : SubSubSection  [ID:SC-5]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:54:21 23.07.98

  About SchemaText        : http://www.schema.de
-->

<META NAME="GENERATOR" CONTENT="SchemaText 1.40f">
<META NAME="AUTHOR" CONTENT="Franz Inc.">
<META NAME="DATE" CONTENT="23.07.98">
<META NAME="TIME" CONTENT="09:51:09">
<META NAME="VERSION" CONTENT="520">

<TITLE>Standard Method Combination</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>

<A NAME="SubSubSectio_Standard_Met_552"></A>
<FONT FACE="ARIAL,GENEVA,HELVETICA">
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="../subsubsu/applying.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../subsecti/methodse.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="declarat.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>
<TABLE WIDTH="90%"><TR>
<TD WIDTH=5%>&nbsp;</TD>
<TD WIDTH=95%>
<FONT SIZE=-2>
<A HREF="../ansicl.htm"> ANSI Common Lisp</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../chapter/objects.htm">7 Objects</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../section/genericf.htm">7.6 Generic Functions and Methods</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../subsecti/methodse.htm">7.6.6 Method Selection and Combination</A>

</FONT>
<H3 ID="2">7.6.6.2   Standard Method Combination</H3>



<P ID="3">

Standard method combination is supported by the <I><A HREF="../glossary/c.htm#class">class</A></I> <A HREF="../dictentr/standar1.htm"><B>standard-generic-function</B></A>.
It is used if no other type of method
combination is specified or if the built-in method combination type
<B>standard</B> is specified. 

<P ID="4">
Primary methods define the main action of the effective method,  
while auxiliary methods modify that action in one of three ways.
A primary method has no method <I><A HREF="../glossary/q.htm#qualifier">qualifiers</A></I>.

<P ID="5">
An auxiliary method is a method whose 

<I><A HREF="../glossary/q.htm#qualifier">qualifier</A></I> is <TT>:before</TT>, <TT>:after</TT>, or <TT>:around</TT>.
Standard method combination
allows no more than one <I><A HREF="../glossary/q.htm#qualifier">qualifier</A></I> per method; if a method definition
specifies more than one <I><A HREF="../glossary/q.htm#qualifier">qualifier</A></I> per method, an error is signaled.

<P ID="6">
<UL>

<P ID="7">
<LI ID="8">
A <I><A HREF="../glossary/b.htm#beforemethod">before method</A></I> has the keyword <TT>:before</TT> as its only <I><A HREF="../glossary/q.htm#qualifier">qualifier</A></I>.
A <I><A HREF="../glossary/b.htm#beforemethod">before method</A></I> specifies <I><A HREF="../glossary/c.htm#code">code</A></I> that is to be run before any 
<I><A HREF="../glossary/p.htm#primarymethod">primary methods</A></I>.

<P ID="9">
<LI ID="10">
An <I><A HREF="../glossary/a.htm#aftermethod">after method</A></I> has the keyword <TT>:after</TT> as its only <I><A HREF="../glossary/q.htm#qualifier">qualifier</A></I>.
An <I><A HREF="../glossary/a.htm#aftermethod">after method</A></I> specifies <I><A HREF="../glossary/c.htm#code">code</A></I> that is to be run after
<I><A HREF="../glossary/p.htm#primarymethod">primary methods</A></I>.

<P ID="11">
<LI ID="12">
An <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I> has the keyword <TT>:around</TT> as its only <I><A HREF="../glossary/q.htm#qualifier">qualifier</A></I>.
An <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I> specifies <I><A HREF="../glossary/c.htm#code">code</A></I> that is to be run instead of other
<I><A HREF="../glossary/a.htm#applicablemethod">applicable methods</A></I>,


but which might contain explicit <I><A HREF="../glossary/c.htm#code">code</A></I>
which calls some of those <I>shadowed</I> <I><A HREF="../glossary/m.htm#method">methods</A></I>
(via <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A>).

</UL>

<P ID="13">
The semantics of standard method combination is as follows:

<P ID="14">
<UL>

<P ID="15">
<LI ID="16"> If there are any <I><A HREF="../glossary/a.htm#aroundmethod">around methods</A></I>, the most specific
<I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I> is called.  It supplies the value or values of the
generic function.

<P ID="17">
<LI ID="18"> Inside the body of an <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I>, 
<A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> can be used to call the <I><A HREF="../glossary/n.htm#nextmethod">next method</A></I>.  When the next
method returns, the <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I> can execute more code,
perhaps based on the returned value or values.



The <I><A HREF="../glossary/g.htm#genericfunction">generic function</A></I> <A HREF="../dictentr/no-next-.htm"><B>no-next-method</B></A> is invoked if <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> is used and
there is no <I><A HREF="../glossary/a.htm#applicablemethod">applicable method</A></I> to call.  The <I><A HREF="../glossary/f.htm#function">function</A></I> <A HREF="../dictentr/next-met.htm"><B>next-method-p</B></A>
may be used to determine whether a <I><A HREF="../glossary/n.htm#nextmethod">next method</A></I> exists.

<P ID="19">
<LI ID="20"> 
If an <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I> invokes <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A>,
the next most specific <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I>
is called, if one is applicable.  If there are no <I><A HREF="../glossary/a.htm#aroundmethod">around methods</A></I> 
or if <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> is called by the least
specific <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I>, the other methods are called as
follows:
<UL>
<LI ID="21">-- All the <I><A HREF="../glossary/b.htm#beforemethod">before methods</A></I> are called, in
most-specific-first order.  Their values are ignored.
An error is signaled if <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> is used in a
<I><A HREF="../glossary/b.htm#beforemethod">before method</A></I>.

<P ID="22">
<LI ID="23">-- The most specific primary method is called.  Inside the
body of a primary method, <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> may be used to call
the next most specific primary method.  When that method returns, the
previous primary method can execute more code, perhaps based on the
returned value or values.  The generic function <A HREF="../dictentr/no-next-.htm"><B>no-next-method</B></A>
is invoked if <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> is used and there are no more
applicable primary methods.  The <I><A HREF="../glossary/f.htm#function">function</A></I> <A HREF="../dictentr/next-met.htm"><B>next-method-p</B></A> may be
used to determine whether a <I><A HREF="../glossary/n.htm#nextmethod">next method</A></I> exists.  If <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A>
is not used, only the most specific <I><A HREF="../glossary/p.htm#primarymethod">primary method</A></I> is called.

<P ID="24">
<LI ID="25">-- All the <I><A HREF="../glossary/a.htm#aftermethod">after methods</A></I> are called in
most-specific-last order.  Their values are ignored.
An error is signaled if <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> is used in an
<I><A HREF="../glossary/a.htm#aftermethod">after method</A></I>.
</UL>
<LI ID="26"> If no <I><A HREF="../glossary/a.htm#aroundmethod">around methods</A></I> were invoked, the most
specific primary method supplies the value or values returned by the
generic function.  The value or values returned by the invocation of
<A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> in the least specific <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I> are
those returned by the most specific primary method.

</UL>

<P ID="27">
In standard method combination, if there is an applicable method
but no applicable primary method, an error is signaled.

<P ID="28">
The <I><A HREF="../glossary/b.htm#beforemethod">before methods</A></I> are run in most-specific-first order while
the <I><A HREF="../glossary/a.htm#aftermethod">after methods</A></I> are run in least-specific-first order.  The
design rationale for this difference can be illustrated with an
example.  Suppose class <I>C<SUB>1</SUB></I> modifies the behavior of its
superclass, <I>C<SUB>2</SUB></I>, by adding <I><A HREF="../glossary/b.htm#beforemethod">before methods</A></I> and <I><A HREF="../glossary/a.htm#aftermethod">after methods</A></I>.
Whether the behavior of the class <I>C<SUB>2</SUB></I> is defined
directly by methods on <I>C<SUB>2</SUB></I> or is inherited from its superclasses
does not affect the relative order of invocation of methods on
instances of the class <I>C<SUB>1</SUB></I>.  Class <I>C<SUB>1</SUB></I>'s 
<I><A HREF="../glossary/b.htm#beforemethod">before method</A></I> runs before all of class <I>C<SUB>2</SUB></I>'s methods.  
Class <I>C<SUB>1</SUB></I>'s <I><A HREF="../glossary/a.htm#aftermethod">after method</A></I> runs after all of class <I>C<SUB>2</SUB></I>'s methods.

<P ID="29">
By contrast, all <I><A HREF="../glossary/a.htm#aroundmethod">around methods</A></I> run before any other methods
run.  Thus a less specific <I><A HREF="../glossary/a.htm#aroundmethod">around method</A></I> runs before a more
specific primary method.

<P ID="30">
If only primary methods are used and if <A HREF="../dictentr/call-nex.htm"><B>call-next-method</B></A> is not
used, only the most specific method is invoked; that is, more specific
methods shadow more general ones. 


</TD></TR></TABLE>
<HR NOSHADE>
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="../subsubsu/applying.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../subsecti/methodse.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="declarat.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>

<SMALL><I><B>&#169; Franz Inc. 1998-2009</b> - File last updated 7-21-2009</I></SMALL>
</FONT>

</BODY>
</HTML>
