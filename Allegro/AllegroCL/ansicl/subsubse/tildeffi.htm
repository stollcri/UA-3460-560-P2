<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<HTML>
<HEAD>

<!-- 
  Document                : tildeffi.htm
  representing node       : Tilde F: Fixed_Format Floating_Point  [ID:NO-1301]
                 of class : SubSubSection  [ID:SC-5]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:51:59 23.07.98

  About SchemaText        : http://www.schema.de
-->

<META NAME="GENERATOR" CONTENT="SchemaText 1.40f">
<META NAME="AUTHOR" CONTENT="Franz Inc.">
<META NAME="DATE" CONTENT="23.07.98">
<META NAME="TIME" CONTENT="09:51:09">
<META NAME="VERSION" CONTENT="520">

<TITLE>Tilde F: Fixed-Format Floating-Point</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>

<A NAME="SubSubSectio_Tilde_F_Fix_1301"></A>
<FONT FACE="ARIAL,GENEVA,HELVETICA">
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="../subsecti/formatfl.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../subsecti/formatfl.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="tildeeex.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>
<TABLE WIDTH="90%"><TR>
<TD WIDTH=5%>&nbsp;</TD>
<TD WIDTH=95%>
<FONT SIZE=-2>
<A HREF="../ansicl.htm"> ANSI Common Lisp</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../chapter/printer.htm">22 Printer</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../section/formatte.htm">22.3 Formatted Output</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../subsecti/formatfl.htm">22.3.3 FORMAT Floating-Point Printers</A>

</FONT>
<H3 ID="2">22.3.3.1   Tilde F: Fixed-Format Floating-Point</H3>


<P ID="3">
The next <I>arg</I> is printed as a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="4">

The full form is <TT>~<I>w</I>,<I>d</I>,<I>k</I>,<I>overflowchar</I>,<I>padchar</I>F</TT>.
The parameter <I>w</I>
is the width of the field to be printed; <I>d</I> is the number
of digits to print after the decimal point; <I>k</I> is a scale factor
that defaults to zero.

<P ID="5">

Exactly <I>w</I> characters will
be output.  First, leading copies of the character <I>padchar</I>
(which defaults to a space) are printed, if necessary, to pad the
field on the left.
If the <I>arg</I> is negative, then a minus sign is printed;
if the <I>arg</I> is not negative, then a plus sign is printed
if and only if the <TT>@</TT>
modifier was supplied.  Then a sequence
of digits, containing a single embedded decimal point, is printed;
this represents the magnitude of the value of <I>arg</I> times <I>10<SUP><I>k</I></SUP></I>,
rounded to <I>d</I> fractional digits.                         
When rounding up and rounding down would produce printed values
equidistant from the scaled value of <I>arg</I>, then the implementation
is free to use either one.  For example, printing the argument
<TT>6.375</TT> using the format <TT>~4,2F</TT> may correctly produce
either <TT>6.37</TT> or <TT>6.38</TT>.
Leading zeros are not permitted, except that a single
zero digit is output before the decimal point if the printed value
is less than one, and this single zero digit is not output
at all if <I>w</I>=<I>d</I>+1.

<P ID="6">

If it is impossible to print the value in the required format in a field
of width <I>w</I>, then one of two actions is taken.  If the
parameter <I>overflowchar</I> is supplied, then <I>w</I> copies of that
parameter are printed instead of the scaled value of <I>arg</I>.
If the <I>overflowchar</I> parameter is omitted, then the scaled value
is printed using more than <I>w</I> characters, as many more as may be
needed.

<P ID="7">

If the <I>w</I> parameter is omitted, then the field is of variable width.
In effect, a value is chosen
for <I>w</I> in such a way that no leading pad characters need to be printed
and exactly <I>d</I> characters will follow the decimal point.
For example, the directive <TT>~,2F</TT> will print exactly
two digits after the decimal point and as many as necessary before the
decimal point.

<P ID="8">

If the parameter <I>d</I> is omitted, then there is no constraint
on the number of digits to appear after the decimal point.
A value is chosen for <I>d</I> in such a way that as many digits
as possible may be printed subject to the width constraint
imposed by the parameter <I>w</I> and the constraint that no trailing
zero digits may appear in the fraction, except that if the
fraction to be printed is zero, then a single zero digit should
appear after the decimal point if permitted by the width constraint.

<P ID="9">

If both <I>w</I> and <I>d</I> are omitted, then the effect is to print
the value using ordinary free-format output; <A HREF="../dictentr/writepri.htm"><B>prin1</B></A> uses this format
for any number whose magnitude is either zero or between
<I>10<SUP>-3</SUP></I> (inclusive) and <I>10<SUP>7</SUP></I> (exclusive).

<P ID="10">

If <I>w</I> is omitted, then if the magnitude of <I>arg</I> is so large (or, if
<I>d</I> is also omitted, so small) that more than 100 digits would have to
be printed, then an implementation is free, at its discretion, to print
the number using exponential notation instead, as if by the directive
<TT>~E</TT> (with all parameters to <TT>~E</TT> defaulted, not
taking their values from the <TT>~F</TT> directive).

<P ID="11">

If <I>arg</I> is a <I><A HREF="../glossary/r.htm#rational">rational</A></I> 
number, then it is coerced to be a <I><A HREF="../glossary/s.htm#singlefloat">single float</A></I>
and then printed.  Alternatively, an implementation is permitted to
process a <I><A HREF="../glossary/r.htm#rational">rational</A></I> 
number by any other method that has essentially the
same behavior but avoids loss of precision or overflow
because of the coercion.  If <I>w</I> and <I>d</I> are
not supplied and the number has no exact decimal representation,
for example <TT>1/3</TT>, some precision cutoff must be chosen
by the implementation since only a finite number of digits may be printed.

<P ID="12">

If <I>arg</I> is a <I><A HREF="../glossary/c.htm#complex">complex</A></I> number or some non-numeric
<I><A HREF="../glossary/o.htm#object">object</A></I>, 
then it is printed using the format directive <TT>~<I>w</I>D</TT>,
thereby printing it in decimal radix and a minimum field width of <I>w</I>.

<P ID="13">

<TT>~F</TT> binds
    <A HREF="../dictentr/print-es.htm"><B>*print-escape*</B></A> to <I><A HREF="../glossary/f.htm#false">false</A></I>

 and <A HREF="../dictentr/print-re.htm"><B>*print-readably*</B></A> to <I><A HREF="../glossary/f.htm#false">false</A></I>.




</TD></TR></TABLE>
<HR NOSHADE>
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="../subsecti/formatfl.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../subsecti/formatfl.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="tildeeex.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>

<SMALL><I><B>&#169; Franz Inc. 1998-2009</b> - File last updated 7-21-2009</I></SMALL>
</FONT>

</BODY>
</HTML>
