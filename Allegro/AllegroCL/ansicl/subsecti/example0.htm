<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<HTML>
<HEAD>

<!-- 
  Document                : example0.htm
  representing node       : Examples of FORMAT  [ID:NO-1338]
                 of class : SubSection  [ID:SC-4]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:51:55 23.07.98

  About SchemaText        : http://www.schema.de
-->

<META NAME="GENERATOR" CONTENT="SchemaText 1.40f">
<META NAME="AUTHOR" CONTENT="Franz Inc.">
<META NAME="DATE" CONTENT="23.07.98">
<META NAME="TIME" CONTENT="09:51:09">
<META NAME="VERSION" CONTENT="520">

<TITLE>Examples of FORMAT</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>

<A NAME="SubSection_Examples_of__1338"></A>
<FONT FACE="ARIAL,GENEVA,HELVETICA">
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="../subsubse/undefine.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/formatte.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="notesabo.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>
<TABLE WIDTH="90%"><TR>
<TD WIDTH=5%>&nbsp;</TD>
<TD WIDTH=95%>
<FONT SIZE=-2>
<A HREF="../ansicl.htm"> ANSI Common Lisp</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../chapter/printer.htm">22 Printer</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../section/formatte.htm">22.3 Formatted Output</A>

</FONT>
<H3 ID="2">22.3.11   Examples of FORMAT</H3>
<PRE ID="3">
 (format nil "foo") <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "foo"
 (setq x 5) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 5
 (format nil "The answer is ~D." x) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "The answer is 5."
 (format nil "The answer is ~3D." x) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "The answer is   5."
 (format nil "The answer is ~3,'0D." x) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "The answer is 005."
 (format nil "The answer is ~:D." (expt 47 x))
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "The answer is 229,345,007."
 (setq y "elephant") <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "elephant"
 (format nil "Look at the ~A!" y) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "Look at the elephant!"
 (setq n 3) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 3
 (format nil "~D item~:P found." n) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "3 items found."
 (format nil "~R dog~:[s are~; is~] here." n (= n 1))
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "three dogs are here."
 (format nil "~R dog~:*~[s are~; is~:;s are~] here." n)
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "three dogs are here."
 (format nil "Here ~[are~;is~:;are~] ~:*~R pupp~:@P." n)
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "Here are three puppies."
</PRE>

<PRE ID="4">
 (defun foo (x)
   (format nil "~6,2F|~6,2,1,'*F|~6,2,,'?F|~6F|~,2F|~F"
           x x x x x x)) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9>  FOO
 (foo 3.14159)  <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  3.14| 31.42|  3.14|3.1416|3.14|3.14159"
 (foo -3.14159) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> " -3.14|-31.42| -3.14|-3.142|-3.14|-3.14159"
 (foo 100.0)    <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "100.00|******|100.00| 100.0|100.00|100.0"
 (foo 1234.0)   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "1234.00|******|??????|1234.0|1234.00|1234.0"
 (foo 0.006)    <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  0.01|  0.06|  0.01| 0.006|0.01|0.006"
</PRE>

<PRE ID="5">
 (defun foo (x)  
    (format nil
           "~9,2,1,,'*E|~10,3,2,2,'?,,'$E|~
            ~9,3,2,-2,'%@E|~9,2E"
           x x x x))
 (foo 3.14159)  <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  3.14E+0| 31.42$-01|+.003E+03|  3.14E+0"
 (foo -3.14159) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> " -3.14E+0|-31.42$-01|-.003E+03| -3.14E+0"
 (foo 1100.0)   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  1.10E+3| 11.00$+02|+.001E+06|  1.10E+3"
 (foo 1100.0L0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  1.10L+3| 11.00$+02|+.001L+06|  1.10L+3"
 (foo 1.1E13)   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "*********| 11.00$+12|+.001E+16| 1.10E+13"
 (foo 1.1L120)  <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "*********|??????????|%%%%%%%%%|1.10L+120"
 (foo 1.1L1200) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "*********|??????????|%%%%%%%%%|1.10L+1200"
</PRE>










As an example of the effects of varying the scale factor, the code

<P ID="6">
<PRE ID="7">
 (dotimes (k 13)
   (format t "~%Scale factor ~2D: |~13,6,2,VE|"
           (- k 5) (- k 5) 3.14159))
</PRE>
produces the following output:

<P ID="8">
<PRE ID="9">
Scale factor -5: | 0.000003E+06|
Scale factor -4: | 0.000031E+05|
Scale factor -3: | 0.000314E+04|
Scale factor -2: | 0.003142E+03|
Scale factor -1: | 0.031416E+02|
Scale factor  0: | 0.314159E+01|
Scale factor  1: | 3.141590E+00|
Scale factor  2: | 31.41590E-01|
Scale factor  3: | 314.1590E-02|
Scale factor  4: | 3141.590E-03|
Scale factor  5: | 31415.90E-04|
Scale factor  6: | 314159.0E-05|
Scale factor  7: | 3141590.E-06|
</PRE>

<P ID="10">

<PRE ID="11">
 (defun foo (x)
   (format nil "~9,2,1,,'*G|~9,3,2,3,'?,,'$G|~9,3,2,0,'%G|~9,2G"
          x x x x))                                     
 (foo 0.0314159) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  3.14E-2|314.2$-04|0.314E-01|  3.14E-2"
 (foo 0.314159)  <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  0.31   |0.314    |0.314    | 0.31    "
 (foo 3.14159)   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "   3.1   | 3.14    | 3.14    |  3.1    "
 (foo 31.4159)   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "   31.   | 31.4    | 31.4    |  31.    "
 (foo 314.159)   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  3.14E+2| 314.    | 314.    |  3.14E+2"
 (foo 3141.59)   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  3.14E+3|314.2$+01|0.314E+04|  3.14E+3"
 (foo 3141.59L0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  3.14L+3|314.2$+01|0.314L+04|  3.14L+3"
 (foo 3.14E12)   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "*********|314.0$+10|0.314E+13| 3.14E+12"
 (foo 3.14L120)  <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "*********|?????????|%%%%%%%%%|3.14L+120"
 (foo 3.14L1200) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "*********|?????????|%%%%%%%%%|3.14L+1200"
</PRE>

<P ID="12">

<PRE ID="13">
 (format nil "~10&lt;foo~;bar~&gt;")   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "foo    bar"
 (format nil "~10:&lt;foo~;bar~&gt;")  <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  foo  bar"
 (format nil "~10&lt;foobar~&gt;")     <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "    foobar"
 (format nil "~10:&lt;foobar~&gt;")    <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "    foobar"
 (format nil "~10:@&lt;foo~;bar~&gt;") <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  foo bar "
 (format nil "~10@&lt;foobar~&gt;")    <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "foobar    "
 (format nil "~10:@&lt;foobar~&gt;")   <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "  foobar  "
</PRE>

<P ID="14">

<PRE ID="15">
  (FORMAT NIL "Written to ~A." #P"foo.bin")
  <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> "Written to foo.bin."
</PRE>



</TD></TR></TABLE>
<HR NOSHADE>
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="../subsubse/undefine.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/formatte.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="notesabo.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>

<SMALL><I><B>&#169; Franz Inc. 1998-2009</b> - File last updated 7-21-2009</I></SMALL>
</FONT>

</BODY>
</HTML>
