<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<HTML>
<HEAD>

<!-- 
  Document                : defaulti.htm
  representing node       : Defaulting of Initialization Arguments  [ID:NO-523]
                 of class : SubSection  [ID:SC-4]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:54:27 23.07.98

  About SchemaText        : http://www.schema.de
-->

<META NAME="GENERATOR" CONTENT="SchemaText 1.40f">
<META NAME="AUTHOR" CONTENT="Franz Inc.">
<META NAME="DATE" CONTENT="23.07.98">
<META NAME="TIME" CONTENT="09:51:09">
<META NAME="VERSION" CONTENT="520">

<TITLE>Defaulting of Initialization Arguments</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>

<A NAME="SubSection_Defaulting_o_523"></A>
<FONT FACE="ARIAL,GENEVA,HELVETICA">
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="declarin.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/objectcr.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="rulesfor.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>
<TABLE WIDTH="90%"><TR>
<TD WIDTH=5%>&nbsp;</TD>
<TD WIDTH=95%>
<FONT SIZE=-2>
<A HREF="../ansicl.htm"> ANSI Common Lisp</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../chapter/objects.htm">7 Objects</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../section/objectcr.htm">7.1 Object Creation and Initialization</A>

</FONT>
<H3 ID="2">7.1.3   Defaulting of Initialization Arguments</H3>
A default value <I><A HREF="../glossary/f.htm#form">form</A></I> can be supplied for an initialization
argument by using the <TT>:default-initargs</TT> <I><A HREF="../glossary/c.htm#class">class</A></I> option.  If an
initialization argument is declared valid by some particular <I><A HREF="../glossary/c.htm#class">class</A></I>,
its default  value form might be specified by a different <I><A HREF="../glossary/c.htm#class">class</A></I>. 
In this case <TT>:default-initargs</TT> is used to supply a default value
for an inherited initialization argument.

<P ID="3">
The <TT>:default-initargs</TT> option is used only to provide default
values for initialization arguments; it does not declare a <I><A HREF="../glossary/s.htm#symbol">symbol</A></I> 
as a valid initialization argument name.  Furthermore, 
the <TT>:default-initargs</TT> option is used only to provide default values for
initialization arguments when making an <I><A HREF="../glossary/i.htm#instance">instance</A></I>.

<P ID="4">
The argument to the <TT>:default-initargs</TT> class 
option is a list of
alternating initialization argument names and <I><A HREF="../glossary/f.htm#form">forms</A></I>.  
Each <I><A HREF="../glossary/f.htm#form">form</A></I> is the
default  value form for the corresponding initialization
argument.  The default  value <I><A HREF="../glossary/f.htm#form">form</A></I> of an initialization
argument is used and evaluated only if that initialization argument
does not appear in the arguments to <A HREF="../dictentr/make-ins.htm"><B>make-instance</B></A> and is not
defaulted by a more specific <I><A HREF="../glossary/c.htm#class">class</A></I>.  The default  value <I><A HREF="../glossary/f.htm#form">form</A></I> is
evaluated in the lexical environment of the <A HREF="../dictentr/defclass.htm"><B>defclass</B></A> form that
supplied it; the resulting value is used as the initialization
argument's value.

<P ID="5">
The initialization arguments supplied to <A HREF="../dictentr/make-ins.htm"><B>make-instance</B></A> are combined
with defaulted initialization arguments to produce a 
<I><A HREF="../glossary/d.htm#defaultedinitializationargumentlist">defaulted initialization argument list</A></I>. A 
<I><A HREF="../glossary/d.htm#defaultedinitializationargumentlist">defaulted initialization argument list</A></I>
is a list of alternating initialization argument names and
values in which unsupplied initialization arguments are defaulted and in
which the explicitly supplied initialization arguments appear earlier in
the list than the defaulted initialization arguments.  Defaulted
initialization arguments are ordered according to the order in the 
<I><A HREF="../glossary/c.htm#classprecedencelist">class precedence list</A></I> of the <I>classes</I> that supplied the default values.

<P ID="6">
There is a distinction between the purposes of the 
<TT>:default-initargs</TT> and the <TT>:initform</TT> options with respect to the
initialization of <I><A HREF="../glossary/s.htm#slot">slots</A></I>.  The <TT>:default-initargs</TT> 
class option
provides a mechanism for the user to give a default  value <I><A HREF="../glossary/f.htm#form">form</A></I>
for an initialization argument without knowing whether the
initialization argument initializes a <I><A HREF="../glossary/s.htm#slot">slot</A></I> 
or is passed to a <I><A HREF="../glossary/m.htm#method">method</A></I>.
If that initialization argument is not explicitly supplied in a call
to <A HREF="../dictentr/make-ins.htm"><B>make-instance</B></A>, the default  value <I><A HREF="../glossary/f.htm#form">form</A></I> is used, just
as if it had been supplied in the call.  In contrast, the 
<TT>:initform</TT> slot option provides a mechanism for the user to give a
default initial value form for a <I><A HREF="../glossary/s.htm#slot">slot</A></I>.  An <TT>:initform</TT> form is
used to initialize a <I><A HREF="../glossary/s.htm#slot">slot</A></I> only if no initialization argument
associated with that <I><A HREF="../glossary/s.htm#slot">slot</A></I> is given as an argument to 
<A HREF="../dictentr/make-ins.htm"><B>make-instance</B></A> or is defaulted by <TT>:default-initargs</TT>.

<P ID="7">

The order of evaluation of default value <I><A HREF="../glossary/f.htm#form">forms</A></I> for initialization
arguments and the order of evaluation of <TT>:initform</TT> forms are
undefined.  If the order of evaluation is important, 
<A HREF="../dictentr/initiali.htm"><B>initialize-instance</B></A> or <A HREF="../dictentr/shared-i.htm"><B>shared-initialize</B></A> <I><A HREF="../glossary/m.htm#method">methods</A></I> 
should be used
instead.


</TD></TR></TABLE>
<HR NOSHADE>
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="declarin.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/objectcr.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="rulesfor.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>

<SMALL><I><B>&#169; Franz Inc. 1998-2009</b> - File last updated 7-21-2009</I></SMALL>
</FONT>

</BODY>
</HTML>
