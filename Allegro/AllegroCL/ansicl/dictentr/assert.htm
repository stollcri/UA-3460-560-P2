<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<HTML>
<HEAD>

<!-- 
  Document                : assert.htm
  representing node       : assert  [ID:NO-635]
                 of class : DictEntry  [ID:SC-9]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:54:00 23.07.98

  About SchemaText        : http://www.schema.de
-->

<META NAME="GENERATOR" CONTENT="SchemaText 1.40f">
<META NAME="AUTHOR" CONTENT="Franz Inc.">
<META NAME="DATE" CONTENT="23.07.98">
<META NAME="TIME" CONTENT="09:51:09">
<META NAME="VERSION" CONTENT="520">

<TITLE>assert</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>

<A NAME="DictEntry_assert_635"></A>
<FONT FACE="ARIAL,GENEVA,HELVETICA">
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="storage-.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/dictio15.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="error0.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>
<TABLE WIDTH="90%"><TR>
<TD WIDTH=5%>&nbsp;</TD>
<TD WIDTH=95%>
<FONT SIZE=-2>
<A HREF="../ansicl.htm"> ANSI Common Lisp</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../chapter/conditio.htm">9 Conditions</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../section/dictio15.htm">9.2 Dictionary of Conditions</A>

</FONT>
<P ID="2">
<TABLE BORDER=0 WIDTH="100%">
<TR>
<TD><FONT SIZE="+2">9.2.10  assert</FONT></TD>
<TD ALIGN=RIGHT><FONT SIZE="+1"><I>Macro</I></FONT></TD>
</TR></TABLE>
<DL>


<P ID="3">
<DT><B>Syntax:</B><DD>

<B>assert</B>
<I>test-form [({<I>place</I>}*)
                                          [datum-form
                                                {<I>argument-form</I>}*]]</I><BR>&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> <I><A HREF="nil.htm"><B>nil</B></A>
<P ID="4"></I>

<P ID="5">
<DT><B>Arguments and Values:</B><DD>

<I>test-form</I> - a <I><A HREF="../glossary/f.htm#form">form</A></I>; always evaluated.

<P ID="6">
<I>place</I> - a <I><A HREF="../glossary/p.htm#place">place</A></I>; evaluated if an error is signaled.

<P ID="7">

<I>datum-form</I> - a <I><A HREF="../glossary/f.htm#form">form</A></I> that evaluates to a <I>datum</I>.
  Evaluated each time an error is to be signaled, 
  or not at all if no error is to be signaled.

<P ID="8">
<I>argument-form</I> - a <I><A HREF="../glossary/f.htm#form">form</A></I> that evaluates to an <I>argument</I>.
  Evaluated each time an error is to be signaled, 
  or not at all if no error is to be signaled.

<P ID="9">

<I>datum</I>, <I>arguments</I> - <I><A HREF="../glossary/d.htm#designator">designators</A></I> for a <I><A HREF="../glossary/c.htm#condition">condition</A></I> 
 of default type <A HREF="error0.htm"><B>error</B></A>.  (These <I><A HREF="../glossary/d.htm#designator">designators</A></I> are the
 result of evaluating <I>datum-form</I> and each of the <I>argument-forms</I>.)



<P ID="10">
<DT><B>Description:</B><DD>

<A HREF="#DictEntry_assert_635"><B>assert</B></A> assures that <I>test-form</I> evaluates to <I><A HREF="../glossary/t.htm#true">true</A></I>.
If <I>test-form</I> evaluates to <I><A HREF="../glossary/f.htm#false">false</A></I>, <A HREF="#DictEntry_assert_635"><B>assert</B></A> signals a
<I><A HREF="../glossary/c.htm#correctable">correctable</A></I> <I><A HREF="../glossary/e.htm#error">error</A></I> (denoted by <I>datum</I> and <I>arguments</I>).
Continuing from this error using the <A HREF="continue.htm"><B>continue</B></A> <I><A HREF="../glossary/r.htm#restart">restart</A></I> makes it possible
for the user to alter the values of the <I>places</I> before
<A HREF="#DictEntry_assert_635"><B>assert</B></A> evaluates <I>test-form</I> again.
If the value of <I>test-form</I> is <I><A HREF="../glossary/n.htm#nonnil">non-nil</A></I>,
<A HREF="#DictEntry_assert_635"><B>assert</B></A> returns <A HREF="nil.htm"><B>nil</B></A>.

<P ID="11">
The <I>places</I> are <I><A HREF="../glossary/g.htm#generalizedreference">generalized references</A></I> to data
upon which <I>test-form</I> depends, 
whose values can be changed by the user in attempting to correct the error.
<I><A HREF="../glossary/s.htm#subform">Subforms</A></I> of each <I>place</I> are only evaluated if an error is signaled, 
and might be re-evaluated if the error is re-signaled (after continuing without
actually fixing the problem).

The order of evaluation of the <I>places</I> is not specified;
see Section <A HREF="../subsubse/evaluati.htm">5.1.1.1 Evaluation of Subforms to Places</A>.


If a <I>place</I> <I><A HREF="../glossary/f.htm#form">form</A></I> is supplied that produces more values than there
are store variables, the extra values are ignored. If the supplied 
<I><A HREF="../glossary/f.htm#form">form</A></I> produces fewer values than there are store variables, 
the missing values are set to <A HREF="nil.htm"><B>nil</B></A>.


<P ID="12">
<DT><B>Examples:</B><DD>

<PRE ID="13">
 (setq x (make-array '(3 5) :initial-element 3))
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> #2A((3 3 3 3 3) (3 3 3 3 3) (3 3 3 3 3))
 (setq y (make-array '(3 5) :initial-element 7))
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> #2A((7 7 7 7 7) (7 7 7 7 7) (7 7 7 7 7))
 (defun matrix-multiply (a b)
   (let ((*print-array* nil))
     (assert (and (= (array-rank a) (array-rank b) 2)
                  (= (array-dimension a 1) (array-dimension b 0)))
             (a b)
             "Cannot multiply ~S by ~S." a b)
            (really-matrix-multiply a b))) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9>  MATRIX-MULTIPLY
 (matrix-multiply x y)
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Correctable error in MATRIX-MULTIPLY: 
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Cannot multiply #&lt;ARRAY ...&gt; by #&lt;ARRAY ...&gt;.
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Restart options:
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> 1: You will be prompted for one or more new values.
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> 2: Top level.
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Debug&gt; <U>:continue 1</U>
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Value for A: <U>x</U>
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Value for B: <U>(make-array '(5 3) :initial-element 6)</U>
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> #2A((54 54 54 54 54)
       (54 54 54 54 54)
       (54 54 54 54 54)
       (54 54 54 54 54)
       (54 54 54 54 54))
</PRE>

<P ID="14">
<PRE ID="15">
 (defun double-safely (x) (assert (numberp x) (x)) (+ x x))
 (double-safely 4) 
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 8
 
 (double-safely t)
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Correctable error in DOUBLE-SAFELY: The value of (NUMBERP X) must be non-NIL.
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Restart options:
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> 1: You will be prompted for one or more new values.
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> 2: Top level.
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Debug&gt; <U>:continue 1</U>
<IMG SRC="../images/triangle.gif" BORDER=0 WIDTH=10 HEIGHT=9> Value for X: <U>7</U>
<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 14
</PRE>

<P ID="16">
<DT><B>Affected By:</B><DD>

<A HREF="break-on.htm"><B>*break-on-signals*</B></A>
<P ID="17">
The set of active <I><A HREF="../glossary/c.htm#conditionhandler">condition handlers</A></I>.

<P ID="18">
<DT><B>See Also:</B><DD>

<A HREF="check-ty.htm"><B>check-type</B></A>, <A HREF="error0.htm"><B>error</B></A>, Section <A HREF="../section/generali.htm">5.1 Generalized Reference</A>

<P ID="19">
<DT><B>Notes:</B><DD>

The debugger need not include the <I>test-form</I> in the error message,
and the <I>places</I> should not be included in the message, but they
should be made available for the user's perusal.  If the user gives the
"continue" command, the values of any of the references can be altered.
The details of this depend on the implementation's style of user interface.
<P ID="20">
<DT><B>Allegro CL Implementation Details:</B><DD>
 None.</DL>
</TD></TR></TABLE>
<HR NOSHADE>
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="storage-.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/dictio15.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="error0.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>

<SMALL><I><B>&#169; Franz Inc. 1998-2009</b> - File last updated 7-21-2009</I></SMALL>
</FONT>

</BODY>
</HTML>
