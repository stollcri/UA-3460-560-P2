<!doctype HTML public "-//W3O//DTD W3 HTML 3.2//EN">
<HTML>
<HEAD>

<!-- 
  Document                : decode_f.htm
  representing node       : decode_float, scale_float, float_radix, float_sign,   float_digits, float_precision, integer_decode_float  [ID:NO-847]
                 of class : DictEntry  [ID:SC-9]
  Generated by SchemaText : 1.52
  From HSDL source        : ansi cl
  At                      : 09:53:17 23.07.98

  About SchemaText        : http://www.schema.de
-->

<META NAME="GENERATOR" CONTENT="SchemaText 1.40f">
<META NAME="AUTHOR" CONTENT="Franz Inc.">
<META NAME="DATE" CONTENT="23.07.98">
<META NAME="TIME" CONTENT="09:51:09">
<META NAME="VERSION" CONTENT="520">

<TITLE>decode-float, scale-float, float-radix, float-sign,   float-digits, float-precision, integer-decode-float</TITLE>
</HEAD>

<BODY BGCOLOR="#FFFFFF">

<table border="0" width="100%" cellpadding="1" cellspacing="0">
  <tr>
    <td bgcolor="#00FFFF"><table border="0" cellpadding="5" cellspacing="3">
      <tr>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/contents.htm"><b>ToC</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/introduction.htm"><b>DocOverview</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/cgide.htm"><b>CGDoc</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/release-notes.htm"><b>RelNotes</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/index.htm"><b>Index</b></a></td>
        <td align="left" bgcolor="#00FFFF"><a href="../../doc/permuted-index.htm"><b>PermutedIndex</b></a></td>
      </tr>
    </table>
    </td>
    <td align="right"><b>Allegro CL</b>
    </td>
  </tr>
</table>

<A NAME="DictEntry_decode_float_847"></A>
<FONT FACE="ARIAL,GENEVA,HELVETICA">
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="most-pos.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/dictio12.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="float0.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>
<TABLE WIDTH="90%"><TR>
<TD WIDTH=5%>&nbsp;</TD>
<TD WIDTH=95%>
<FONT SIZE=-2>
<A HREF="../ansicl.htm"> ANSI Common Lisp</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../chapter/numbers.htm">12 Numbers</A>&nbsp;&nbsp;<IMG SRC="../images/a-rgh6b.gif" BORDER=0 WIDTH=6 HEIGHT=6>&nbsp;<A HREF="../section/dictio12.htm">12.2 Dictionary of Numbers</A>

</FONT>
<P ID="2">
<TABLE BORDER=0 WIDTH="100%">
<TR>
<TD><FONT SIZE="+2">12.2.73  decode-float, scale-float, float-radix, float-sign,   float-digits, float-precision, integer-decode-float</FONT></TD>
<TD ALIGN=RIGHT><FONT SIZE="+1"><I>Function</I></FONT></TD>
</TR></TABLE>
<DL>


<P ID="3">
<DT><B>Syntax:</B><DD>

<B>decode-float</B>
<I>float</I>
&nbsp;&nbsp;<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> <I>significand, exponent, sign</I>
<P ID="4">
<B>scale-float</B>
<I>float integer</I>
&nbsp;&nbsp;<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> <I>scaled-float</I>
<P ID="5">
<B>float-radix</B>
<I>float</I>
&nbsp;&nbsp;<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> <I>float-radix</I>
<P ID="6">
<B>float-sign</B>
<I>float-1 <TT>&amp;optional</TT> float-2</I>
&nbsp;&nbsp;<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> <I>signed-float</I>
<P ID="7">
<B>float-digits</B>
<I>float</I>
&nbsp;&nbsp;<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> <I>digits1</I>
<P ID="8">
<B>float-precision</B>
<I>float</I>
&nbsp;&nbsp;<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> <I>digits2</I>
<P ID="9">
<B>integer-decode-float</B>
<I>float</I>
&nbsp;&nbsp;<IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> <I>significand, exponent, integer-sign</I>
<P ID="10">
<DT><B>Arguments and Values:</B><DD>

<I>digits1</I> - a non-negative <I><A HREF="../glossary/i.htm#integer">integer</A></I>.

<P ID="11">
<I>digits2</I> - a non-negative <I><A HREF="../glossary/i.htm#integer">integer</A></I>.

<P ID="12">
<I>exponent</I> - an <I><A HREF="../glossary/i.htm#integer">integer</A></I>.

<P ID="13">
<I>float</I> - a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="14">
<I>float-1</I> - a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="15">
<I>float-2</I> - a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="16">
<I>float-radix</I> - an <I><A HREF="../glossary/i.htm#integer">integer</A></I>.

<P ID="17">
<I>integer</I> - a non-negative <I><A HREF="../glossary/i.htm#integer">integer</A></I>.

<P ID="18">
<I>integer-sign</I> - the <I><A HREF="../glossary/i.htm#integer">integer</A></I> <TT>-1</TT>,
		    or the <I><A HREF="../glossary/i.htm#integer">integer</A></I> <TT>1</TT>.

<P ID="19">
<I>scaled-float</I> - a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="20">
<I>sign</I> - A <I><A HREF="../glossary/f.htm#float">float</A></I> of the same <I><A HREF="../glossary/t.htm#type">type</A></I> as <I>float</I>
	       but numerically equal to <TT>1.0</TT> or <TT>-1.0</TT>.

<P ID="21">
<I>signed-float</I> - a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="22">
<I>significand</I> - a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="23">
<DT><B>Description:</B><DD>



<A HREF="#DictEntry_decode_float_847"><B>decode-float</B></A> computes three values that characterize
<I>float</I>.
The first value is of the same <I><A HREF="../glossary/t.htm#type">type</A></I>
as <I>float</I> and 
represents the significand.
The second value represents the exponent
to which the radix (notated in this description by <I>b</I>) must
be raised to obtain the value that, when multiplied with the first
result, produces the absolute value of <I>float</I>.
If <I>float</I> is zero, any <I><A HREF="../glossary/i.htm#integer">integer</A></I> value may be returned, 
provided that the identity shown for <A HREF="#DictEntry_decode_float_847"><B>scale-float</B></A> holds.
The third value
is of the same <I><A HREF="../glossary/t.htm#type">type</A></I> as <I>float</I>
and is 1.0 if <I>float</I> is greater
than or equal to zero or -1.0 otherwise.

<P ID="24">
<A HREF="#DictEntry_decode_float_847"><B>decode-float</B></A> 
divides <I>float</I> by an integral power of <I>b</I>









so as to bring its value between <I>1/<I>b</I></I> (inclusive) and&nbsp;<I>1</I> (exclusive),
and returns the quotient as the first value.
If <I>float</I> is zero, however, the result
equals the absolute value of <I>float</I> (that is, if there is a negative
zero, its significand is considered to be a positive zero).

<P ID="25">

<A HREF="#DictEntry_decode_float_847"><B>scale-float</B></A> returns
<TT>(* <I>float</I> (expt (float <I>b</I> <I>float</I>) 
<I>integer</I>)) </TT>, where <I>b</I> is the radix of the floating-point
representation. <I>float</I> is not necessarily between <I>1/<I>b</I></I> and&nbsp;<I>1</I>.

<P ID="26">

<A HREF="#DictEntry_decode_float_847"><B>float-radix</B></A> returns 
the radix of <I>float</I>.

<P ID="27">

<A HREF="#DictEntry_decode_float_847"><B>float-sign</B></A> returns a number <TT>z</TT> such
that <TT>z</TT> and <I>float-1</I> have the same sign and also such that
<TT>z</TT> and <I>float-2</I> have the same absolute value.
If <I>float-2</I> is not supplied, its value is <TT>(float 1 <I>float-1</I>)</TT>.
If an implementation
has distinct representations for negative zero and positive zero,
then <TT>(float-sign -0.0)</TT> <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> &nbsp;<TT>-1.0</TT>.

<P ID="28">

<A HREF="#DictEntry_decode_float_847"><B>float-digits</B></A> returns
the number of radix <I>b</I> digits
used in the representation of <I>float</I> (including any implicit
digits, such as a "hidden bit").

<P ID="29">
<A HREF="#DictEntry_decode_float_847"><B>float-precision</B></A>
returns
the number of significant radix <I>b</I> digits present in <I>float</I>;
if <I>float</I> is a <I><A HREF="../glossary/f.htm#float">float</A></I>
zero, then the result is an <I><A HREF="../glossary/i.htm#integer">integer</A></I> zero.

<P ID="30">
For <I><A HREF="../glossary/n.htm#normalized">normalized</A></I> <I><A HREF="../glossary/f.htm#float">floats</A></I>,
the results of <A HREF="#DictEntry_decode_float_847"><B>float-digits</B></A> and <A HREF="#DictEntry_decode_float_847"><B>float-precision</B></A> are the same,
but the precision is less than the number of representation digits 
for a <I><A HREF="../glossary/d.htm#denormalized">denormalized</A></I> or zero number.

<P ID="31">



<A HREF="#DictEntry_decode_float_847"><B>integer-decode-float</B></A> computes three values that characterize
<I>float</I> - 
the significand scaled so as to be an <I><A HREF="../glossary/i.htm#integer">integer</A></I>,
and the same last two
values that are returned by <A HREF="#DictEntry_decode_float_847"><B>decode-float</B></A>.
If <I>float</I> is zero, <A HREF="#DictEntry_decode_float_847"><B>integer-decode-float</B></A> returns 
zero as the first value.
The second value bears the same relationship to the first value
as for <A HREF="#DictEntry_decode_float_847"><B>decode-float</B></A>:

<P ID="32">
<PRE ID="33">
 (multiple-value-bind (signif expon sign)
                      (integer-decode-float f)
   (scale-float (float signif f) expon)) ==(abs f)
</PRE>

<P ID="34">
<DT><B>Examples:</B><DD>

<PRE ID="35">
 ;; Note that since the purpose of this functionality is to expose
 ;; details of the implementation, all of these examples are necessarily
 ;; very implementation-dependent.  Results may vary widely.

 ;; Values shown here are chosen consistently from one particular implementation.
 (decode-float .5) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 0.5, 0, 1.0
 (decode-float 1.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 0.5, 1, 1.0
 (scale-float 1.0 1) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 2.0
 (scale-float 10.01 -2) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 2.5025
 (scale-float 23.0 0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 23.0
 (float-radix 1.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 2
 (float-sign 5.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 1.0
 (float-sign -5.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> -1.0
 (float-sign 0.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 1.0
 (float-sign 1.0 0.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 0.0
 (float-sign 1.0 -10.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 10.0
 (float-sign -1.0 10.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> -10.0
 (float-digits 1.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 24
 (float-precision 1.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 24
 (float-precision least-positive-single-float) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 1
 (integer-decode-float 1.0) <IMG SRC="../images/rightarr.gif" BORDER=0 WIDTH=14 HEIGHT=9> 8388608, -23, 1
</PRE>

<P ID="36">
<DT><B>Affected By:</B><DD>

The implementation's representation for <I><A HREF="../glossary/f.htm#float">floats</A></I>.

<P ID="37">
<DT><B>Exceptional Situations:</B><DD>

The functions <A HREF="#DictEntry_decode_float_847"><B>decode-float</B></A>, <A HREF="#DictEntry_decode_float_847"><B>float-radix</B></A>, <A HREF="#DictEntry_decode_float_847"><B>float-digits</B></A>,
<A HREF="#DictEntry_decode_float_847"><B>float-precision</B></A>, and <A HREF="#DictEntry_decode_float_847"><B>integer-decode-float</B></A> should signal an error
if their only argument is not a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="38">
The <I><A HREF="../glossary/f.htm#function">function</A></I> <A HREF="#DictEntry_decode_float_847"><B>scale-float</B></A> should signal an error if its first argument
is not a <I><A HREF="../glossary/f.htm#float">float</A></I> or if its second argument is not an <I><A HREF="../glossary/i.htm#integer">integer</A></I>.

<P ID="39">
The <I><A HREF="../glossary/f.htm#function">function</A></I> <A HREF="#DictEntry_decode_float_847"><B>float-sign</B></A> should signal an error if its first argument
is not a <I><A HREF="../glossary/f.htm#float">float</A></I> or if its second argument is supplied but is 
not a <I><A HREF="../glossary/f.htm#float">float</A></I>.

<P ID="40">
<DT><B>Notes:</B><DD>

The product of the first result of <A HREF="#DictEntry_decode_float_847"><B>decode-float</B></A> or <A HREF="#DictEntry_decode_float_847"><B>integer-decode-float</B></A>,
of the radix raised to the power of the second result, and of the third result
is exactly equal to the value of <I>float</I>.

<P ID="41">

<PRE ID="42">
 (multiple-value-bind (signif expon sign)
                      (decode-float f)
   (scale-float signif expon))
==(abs f)
</PRE>
and

<P ID="43">
<PRE ID="44">
 (multiple-value-bind (signif expon sign)
                      (decode-float f)
   (* (scale-float signif expon) sign))
== f
</PRE>
<P ID="45">
<DT><B>Allegro CL Implementation Details:</B><DD>
 None.</DL>
</TD></TR></TABLE>
<HR NOSHADE>
<A HREF="../ansicl.htm" TARGET="_self"><IMG SRC="../images/a-top12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Home"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>

<A HREF="most-pos.htm"><IMG SRC="../images/a-lft12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Previous"></A> 
<A HREF="../section/dictio12.htm" TARGET="_self"><IMG SRC="../images/a-up12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Up"></A> 
<A HREF="float0.htm"><IMG SRC="../images/a-rgh12b.gif" BORDER=0 WIDTH=12 HEIGHT=12 ALT="Next"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/tableofc.htm" TARGET="_self"><IMG SRC="../images/toc.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Table of Contents"></A><IMG SRC="../images/void16.gif" BORDER=0 WIDTH=16 HEIGHT=16>
<A HREF="../meta/index.htm" TARGET="_self"><IMG SRC="../images/i16.gif" BORDER=0 WIDTH=16 HEIGHT=16 ALT="Index"></A>
<HR NOSHADE>

<SMALL><I><B>&#169; Franz Inc. 1998-2009</b> - File last updated 7-21-2009</I></SMALL>
</FONT>

</BODY>
</HTML>
